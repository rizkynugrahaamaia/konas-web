"use strict";(self.webpackChunkkonas_front_end=self.webpackChunkkonas_front_end||[]).push([[685],{7967:(a,e,s)=>{s.d(e,{Bn:()=>b,Cm:()=>u,GP:()=>v,Px:()=>c,ST:()=>g,Zq:()=>m,of:()=>o,rN:()=>h,xX:()=>p});var l=s(4893),t=s(8556),r=s(6891),n=s(105),i=s(4513);const d=async a=>await n.dC.get(r.Z.getListPeserta,{params:a});async function o(a){let{onSuccess:e,onError:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=null;s=await d(a),200===s.code&&e(s)}catch(l){s(l)}}const c=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-participant-list",a],queryFn:()=>d(a),...e});return{...t,...null===t||void 0===t?void 0:t.data,data:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data}},u=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-region-list",a],queryFn:()=>(async a=>await n.dC.get(r.Z.getRegion,{params:a,auth:{username:i.m,password:i.$}}))(a),...e}),d=null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data.map((a=>({label:a.fullname,value:a.regionId})));return{...t,...null===t||void 0===t?void 0:t.data,data:d}},m=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-status-list",a],queryFn:()=>(async a=>await n.dC.get(r.Z.getStatusPeserta,{params:a,auth:{username:i.m,password:i.$}}))(a),...e}),d=null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data.map((a=>({label:a.name,value:a.roleId})));return{...t,...null===t||void 0===t?void 0:t.data,data:d||[]}},v=()=>{var a;const e=(0,t.D)({mutationFn:a=>(async a=>await n.dC.post(r.Z.createUser,a,{}))(a)});return{...e,...e.data,data:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data}},b=()=>{var a;const e=(0,t.D)({mutationFn:a=>(async a=>await n.dC.put(r.Z.updateUser,a,{}))(a)});return{...e,...e.data,data:null===(a=e.data)||void 0===a?void 0:a.data}},g=()=>{var a;const e=(0,t.D)({mutationFn:a=>(async a=>await n.dC.delete(r.Z.deleteUser(a)))(a)});return{...e,...e.data,data:null===(a=e.data)||void 0===a?void 0:a.data}},h=(a,e,s)=>{var t;const i=(0,l.a)({queryKey:["get-participant-detail",a,e],queryFn:()=>(async(a,e)=>await n.dC.get(r.Z.getDetailUser(a),{params:e}))(a,e),...s});return{...i,...null===i||void 0===i?void 0:i.data,data:null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.data}},p=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-login-user",a],queryFn:()=>(async a=>await n.dC.get(r.Z.getByuserLogin,{params:a}))(a),...e});return{...t,...null===t||void 0===t?void 0:t.data,data:null===(s=t.data)||void 0===s?void 0:s.data}}},6623:(a,e,s)=>{s.d(e,{Z:()=>o});var l=s(1830),t=s.n(l),r=s(8086);const n="styles_confirmButton__AwlYm",i="styles_cancelButton__UvtXS",d=s.n(r)()(t()),o=a=>{const{onConfirm:e,onCancel:s,onClose:l,onTimer:r,...o}=a;return d.fire({customClass:{confirmButton:n,cancelButton:i},reverseButtons:!0,...o}).then((a=>{a.value?e&&e(a.value):a.dismiss===t().DismissReason.cancel||a.dismiss===t().DismissReason.backdrop||a.dismiss===t().DismissReason.esc?s&&s():a.dismiss===t().DismissReason.close?l&&l():a.dismiss===t().DismissReason.timer&&r&&r()}))}},9145:(a,e,s)=>{s.d(e,{Z:()=>g});s(2791);var l=s(1134);const t=(a,e)=>e.required&&!a?"".concat(e.label," wajib diisi"):!(e.minLength&&a.length<e.minLength)||"".concat(e.label," must be at least ").concat(e.minLength," characters long"),r={label:"styles_label__Y4r1c",input:"styles_input__5imA6"};var n=s(184);function i(a){let{className:e,inputClass:s,mandatory:l,id:t,label:i,register:d,errors:o,validation:c,rules:u,...m}=a;return e=[e].filter(Boolean).join(" "),(0,n.jsxs)("div",{className:e,children:[i&&(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("label",{className:r.label,children:[i,l&&(0,n.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)("input",{className:"\n              rounded-md border-2 p-2 w-full block \n              ".concat(r.input," \n              ").concat(s,"\n              "),id:t,...d(t,{validate:a=>c(a,u)}),...m})}),o[t]&&(0,n.jsx)("div",{className:"text-red-600",children:o[t].message})]})]})}i.defaultProps={className:"",id:"",inputClass:"",label:"",errors:{},register:()=>{},mandatory:!1,validation:()=>{}};var d=s(9513),o=s.n(d);s(8639);const c={label:"styles_label__P6nnv",input:"styles_input__TbS1+"};function u(a){let{className:e,mandatory:s,id:t,label:r,errors:i,validation:d,rules:u,control:m,...v}=a;return e=[e].filter(Boolean).join(" "),(0,n.jsxs)("div",{className:e,children:[r&&(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("label",{className:"",children:[r,s&&(0,n.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,n.jsx)("div",{className:"w-full rounded-md px-2 border-2 block",children:(0,n.jsx)(l.Qr,{control:m,name:t,render:a=>{let{field:e}=a;return(0,n.jsx)(o(),{className:"w-full ".concat(c.input),selected:e.value,onChange:a=>e.onChange(a),peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",wrapperClassName:"w-full",...v})},rules:{validate:a=>d(a,u)}})}),i[t]&&(0,n.jsx)("div",{className:"text-red-600",children:i[t].message})]})}u.defaultProps={className:"",id:"",label:"",errors:{},mandatory:!1,validation:()=>{}};var m=s(6258);function v(a){let{className:e,mandatory:s,id:t,label:r,errors:i,validation:d,rules:o,control:c,options:u,...v}=a;return e=[e].filter(Boolean).join(" "),(0,n.jsxs)("div",{className:e,children:[r&&(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("label",{className:"",children:[r,s&&(0,n.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,n.jsx)("div",{className:"w-full",children:(0,n.jsx)(l.Qr,{control:c,name:t,render:a=>{let{field:e}=a;return(0,n.jsx)(m.ZP,{options:u,...e,...v})},rules:{validate:a=>d(a,o)}})}),i[t]&&(0,n.jsx)("div",{className:"text-red-600",children:i[t].message})]})}function b(a){let{className:e="",id:s="",inputClass:l="",label:t="",errors:r={},register:i=(()=>{}),mandatory:d=!1,rules:o={},validation:c=(()=>{}),...u}=a;return e=[e].filter(Boolean).join(" "),(0,n.jsxs)("div",{className:e,children:[t&&(0,n.jsx)("div",{className:"",children:(0,n.jsxs)("label",{className:"",children:[t,d&&(0,n.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"",children:(0,n.jsx)("textarea",{className:"rounded-md border-2 p-2 w-full block",id:s,...i(s,{validate:a=>c(a,o)}),...u})}),r[s]&&(0,n.jsx)("div",{className:"text-red-600",children:r[s].message})]})]})}function g(a){let{onSubmit:e=(()=>{}),defaultValues:s={},isDetail:r=!1,isEdit:d=!1,isLoading:o=!1,statusLoading:c=!1,statusOptions:m=[],wilayahLoading:g=!1,wilayahOptions:h=[]}=a;const{register:p,control:x,handleSubmit:y,setValue:N,formState:{errors:j,isValid:f}}=(0,l.cI)({mode:"onChange",progressive:!0,defaultValues:{fullname:"",username:"",birthday:"",status:"",region:"",roomMeet:"",flight:"",roomStay:"",...s}});return(0,n.jsxs)("form",{onSubmit:y(e),children:[(0,n.jsx)(i,{disabled:r,id:"fullname",className:"mb-6",label:"Nama",mandatory:!0,register:p,errors:j,placeholder:"Masukkan Nama",rules:{label:"Nama",required:!0},validation:t}),(0,n.jsx)(i,{disabled:d||r,id:"username",className:"mb-6",label:"Username",mandatory:!0,register:p,errors:j,onChange:a=>{const e=a.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");N(a.target.name,e,{shouldValidate:!0})},placeholder:"Masukkan Username",rules:{label:"Username",required:!0},validation:t}),(0,n.jsx)(u,{disabled:r,id:"birthday",className:"mb-6",control:x,label:"Tanggal Lahir",errors:j,mandatory:!0,placeholderText:"Pilih Tanggal",rules:{label:"Tanggal Lahir",required:!0},validation:t}),(0,n.jsx)(v,{isDisabled:r,id:"status",className:"mb-6",control:x,isLoading:c,label:"Status Peserta",errors:j,mandatory:!0,options:m,placeholder:"Pilih Peserta",rules:{label:"Status Peserta",required:!0},validation:t}),(0,n.jsx)(v,{isDisabled:r,id:"region",className:"mb-6",control:x,isLoading:g,label:"Wilayah",errors:j,mandatory:!0,options:h,placeholder:"Pilih Wilayah",rules:{label:"Wilayah",required:!0},validation:t}),(0,n.jsx)(b,{disabled:r,id:"roomMeet",className:"mb-6",label:"Ruang Meeting",register:p,errors:j,mandatory:!0,placeholder:"Masukkan Ruang Meeting",rules:{label:"Ruang Meeting",required:!0},rows:5,validation:t}),(0,n.jsx)(b,{disabled:r,id:"flight",className:"mb-6",label:"Informasi Penerbangan",register:p,errors:j,mandatory:!0,placeholder:"Masukkan Informasi Penerbangan",rules:{label:"Informasi Penerbangan",required:!0},rows:5,validation:t}),(0,n.jsx)(b,{disabled:r,id:"roomStay",className:"mb-6",label:"Ruang Inap",register:p,errors:j,mandatory:!0,placeholder:"Masukkan Ruang Inap",rules:{label:"Ruang Inap",required:!0},rows:5,validation:t}),r?null:(0,n.jsx)("button",{className:"bg-[#55185D] p-2 w-28 rounded-md text-white float-right disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!f||o,type:"submit",children:"Submit"})]})}v.defaultProps={className:"",id:"",label:"",errors:{},mandatory:!1,options:[],validation:()=>{}}},5935:(a,e,s)=>{s.r(e),s.d(e,{default:()=>o});s(2791);var l=s(7689),t=s(9145),r=s(6623),n=s(9567),i=s(7967),d=s(184);function o(){const a=(0,l.s0)(),{data:e,isLoading:s}=(0,i.Cm)({},{enabled:!0}),{data:o,isLoading:c}=(0,i.Zq)({},{enabled:!0}),{mutate:u,isLoading:m}=(0,i.GP)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"ml-4 flex cursor-pointer",onClick:()=>a("/"),children:[(0,d.jsx)("img",{alt:"arrow_back",src:n.Z.arrow_back}),(0,d.jsx)("h1",{className:"ml-2 text-2xl font-medium",children:"Kembali"})]}),(0,d.jsxs)("div",{className:"bg-white p-6 m-6 overflow-auto rounded-md shadow-md",children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Tambah Peserta"}),(0,d.jsx)(t.Z,{isLoading:m,onSubmit:e=>{var s,l;const t={...e,region:null===e||void 0===e||null===(s=e.region)||void 0===s?void 0:s.value,status:null===e||void 0===e||null===(l=e.status)||void 0===l?void 0:l.value};u(t,{onSuccess:()=>{(0,r.Z)({allowOutsideClick:!1,title:"Berhasil!",text:"Data telah ditambahkan",icon:"success",onConfirm:()=>a("/")})},onError:()=>{(0,r.Z)({allowOutsideClick:!1,title:"Gagal!",text:"Data gagal ditambahkan.",icon:"error",onConfirm:()=>a("/")})}})},statusLoading:c,statusOptions:o,wilayahLoading:s,wilayahOptions:e})]})]})}}}]);
//# sourceMappingURL=685.58f3bcc2.chunk.js.map