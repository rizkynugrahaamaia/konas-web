"use strict";(self.webpackChunkkonas_front_end=self.webpackChunkkonas_front_end||[]).push([[935],{7967:(a,e,s)=>{s.d(e,{Bn:()=>g,Cm:()=>c,GP:()=>v,Px:()=>u,ST:()=>b,Zq:()=>m,of:()=>o,rN:()=>h,xX:()=>p});var l=s(4893),t=s(8556),i=s(6891),r=s(105),n=s(4513);const d=async a=>await r.dC.get(i.Z.getListPeserta,{params:a});async function o(a){let{onSuccess:e,onError:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=null;s=await d(a),200===s.code&&e(s)}catch(l){s(l)}}const u=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-participant-list",a],queryFn:()=>d(a),...e});return{...t,...null===t||void 0===t?void 0:t.data,data:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data}},c=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-region-list",a],queryFn:()=>(async a=>await r.dC.get(i.Z.getRegion,{params:a,auth:{username:n.m,password:n.$}}))(a),...e}),d=null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data.map((a=>({label:a.fullname,value:a.regionId})));return{...t,...null===t||void 0===t?void 0:t.data,data:d}},m=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-status-list",a],queryFn:()=>(async a=>await r.dC.get(i.Z.getStatusPeserta,{params:a,auth:{username:n.m,password:n.$}}))(a),...e}),d=null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.data.map((a=>({label:a.name,value:a.roleId})));return{...t,...null===t||void 0===t?void 0:t.data,data:d||[]}},v=()=>{var a;const e=(0,t.D)({mutationFn:a=>(async a=>await r.dC.post(i.Z.createUser,a,{}))(a)});return{...e,...e.data,data:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.data}},g=()=>{var a;const e=(0,t.D)({mutationFn:a=>(async a=>await r.dC.put(i.Z.updateUser,a,{}))(a)});return{...e,...e.data,data:null===(a=e.data)||void 0===a?void 0:a.data}},b=()=>{var a;const e=(0,t.D)({mutationFn:a=>(async a=>await r.dC.delete(i.Z.deleteUser(a)))(a)});return{...e,...e.data,data:null===(a=e.data)||void 0===a?void 0:a.data}},h=(a,e,s)=>{var t;const n=(0,l.a)({queryKey:["get-participant-detail",a,e],queryFn:()=>(async(a,e)=>await r.dC.get(i.Z.getDetailUser(a),{params:e}))(a,e),...s});return{...n,...null===n||void 0===n?void 0:n.data,data:null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data}},p=(a,e)=>{var s;const t=(0,l.a)({queryKey:["get-login-user",a],queryFn:()=>(async a=>await r.dC.get(i.Z.getByuserLogin,{params:a}))(a),...e});return{...t,...null===t||void 0===t?void 0:t.data,data:null===(s=t.data)||void 0===s?void 0:s.data}}},6623:(a,e,s)=>{s.d(e,{Z:()=>o});var l=s(1830),t=s.n(l),i=s(8086);const r="styles_confirmButton__AwlYm",n="styles_cancelButton__UvtXS",d=s.n(i)()(t()),o=a=>{const{onConfirm:e,onCancel:s,onClose:l,onTimer:i,...o}=a;return d.fire({customClass:{confirmButton:r,cancelButton:n},reverseButtons:!0,...o}).then((a=>{a.value?e&&e(a.value):a.dismiss===t().DismissReason.cancel||a.dismiss===t().DismissReason.backdrop||a.dismiss===t().DismissReason.esc?s&&s():a.dismiss===t().DismissReason.close?l&&l():a.dismiss===t().DismissReason.timer&&i&&i()}))}},9145:(a,e,s)=>{s.d(e,{Z:()=>b});s(2791);var l=s(1134);const t=(a,e)=>e.required&&!a?"".concat(e.label," wajib diisi"):!(e.minLength&&a.length<e.minLength)||"".concat(e.label," must be at least ").concat(e.minLength," characters long"),i={label:"styles_label__Y4r1c",input:"styles_input__5imA6"};var r=s(184);function n(a){let{className:e,inputClass:s,mandatory:l,id:t,label:n,register:d,errors:o,validation:u,rules:c,...m}=a;return e=[e].filter(Boolean).join(" "),(0,r.jsxs)("div",{className:e,children:[n&&(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("label",{className:i.label,children:[n,l&&(0,r.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("input",{className:"\n              rounded-md border-2 p-2 w-full block \n              ".concat(i.input," \n              ").concat(s,"\n              "),id:t,...d(t,{validate:a=>u(a,c)}),...m})}),o[t]&&(0,r.jsx)("div",{className:"text-red-600",children:o[t].message})]})]})}n.defaultProps={className:"",id:"",inputClass:"",label:"",errors:{},register:()=>{},mandatory:!1,validation:()=>{}};var d=s(9513),o=s.n(d);s(8639);const u={label:"styles_label__P6nnv",input:"styles_input__TbS1+"};function c(a){let{className:e,mandatory:s,id:t,label:i,errors:n,validation:d,rules:c,control:m,...v}=a;return e=[e].filter(Boolean).join(" "),(0,r.jsxs)("div",{className:e,children:[i&&(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("label",{className:"",children:[i,s&&(0,r.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,r.jsx)("div",{className:"w-full rounded-md px-2 border-2 block",children:(0,r.jsx)(l.Qr,{control:m,name:t,render:a=>{let{field:e}=a;return(0,r.jsx)(o(),{className:"w-full ".concat(u.input),selected:e.value,onChange:a=>e.onChange(a),peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",wrapperClassName:"w-full",...v})},rules:{validate:a=>d(a,c)}})}),n[t]&&(0,r.jsx)("div",{className:"text-red-600",children:n[t].message})]})}c.defaultProps={className:"",id:"",label:"",errors:{},mandatory:!1,validation:()=>{}};var m=s(6258);function v(a){let{className:e,mandatory:s,id:t,label:i,errors:n,validation:d,rules:o,control:u,options:c,...v}=a;return e=[e].filter(Boolean).join(" "),(0,r.jsxs)("div",{className:e,children:[i&&(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("label",{className:"",children:[i,s&&(0,r.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(l.Qr,{control:u,name:t,render:a=>{let{field:e}=a;return(0,r.jsx)(m.ZP,{options:c,...e,...v})},rules:{validate:a=>d(a,o)}})}),n[t]&&(0,r.jsx)("div",{className:"text-red-600",children:n[t].message})]})}function g(a){let{className:e="",id:s="",inputClass:l="",label:t="",errors:i={},register:n=(()=>{}),mandatory:d=!1,rules:o={},validation:u=(()=>{}),...c}=a;return e=[e].filter(Boolean).join(" "),(0,r.jsxs)("div",{className:e,children:[t&&(0,r.jsx)("div",{className:"",children:(0,r.jsxs)("label",{className:"",children:[t,d&&(0,r.jsx)("span",{className:"text-red-600",children:"*"})]})}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{className:"",children:(0,r.jsx)("textarea",{className:"rounded-md border-2 p-2 w-full block",id:s,...n(s,{validate:a=>u(a,o)}),...c})}),i[s]&&(0,r.jsx)("div",{className:"text-red-600",children:i[s].message})]})]})}function b(a){let{onSubmit:e=(()=>{}),defaultValues:s={},isDetail:i=!1,isEdit:d=!1,isLoading:o=!1,statusLoading:u=!1,statusOptions:m=[],wilayahLoading:b=!1,wilayahOptions:h=[]}=a;const{register:p,control:x,handleSubmit:y,setValue:f,formState:{errors:N,isValid:j}}=(0,l.cI)({mode:"onChange",progressive:!0,defaultValues:{fullname:"",username:"",birthday:"",status:"",region:"",roomMeet:"",flight:"",roomStay:"",...s}});return(0,r.jsxs)("form",{onSubmit:y(e),children:[(0,r.jsx)(n,{disabled:i,id:"fullname",className:"mb-6",label:"Nama",mandatory:!0,register:p,errors:N,placeholder:"Masukkan Nama",rules:{label:"Nama",required:!0},validation:t}),(0,r.jsx)(n,{disabled:d||i,id:"username",className:"mb-6",label:"Username",mandatory:!0,register:p,errors:N,onChange:a=>{const e=a.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");f(a.target.name,e,{shouldValidate:!0})},placeholder:"Masukkan Username",rules:{label:"Username",required:!0},validation:t}),(0,r.jsx)(c,{disabled:i,id:"birthday",className:"mb-6",control:x,label:"Tanggal Lahir",errors:N,mandatory:!0,placeholderText:"Pilih Tanggal",rules:{label:"Tanggal Lahir",required:!0},validation:t}),(0,r.jsx)(v,{isDisabled:i,id:"status",className:"mb-6",control:x,isLoading:u,label:"Status Peserta",errors:N,mandatory:!0,options:m,placeholder:"Pilih Peserta",rules:{label:"Status Peserta",required:!0},validation:t}),(0,r.jsx)(v,{isDisabled:i,id:"region",className:"mb-6",control:x,isLoading:b,label:"Wilayah",errors:N,mandatory:!0,options:h,placeholder:"Pilih Wilayah",rules:{label:"Wilayah",required:!0},validation:t}),(0,r.jsx)(g,{disabled:i,id:"roomMeet",className:"mb-6",label:"Ruang Meeting",register:p,errors:N,mandatory:!0,placeholder:"Masukkan Ruang Meeting",rules:{label:"Ruang Meeting",required:!0},rows:5,validation:t}),(0,r.jsx)(g,{disabled:i,id:"flight",className:"mb-6",label:"Informasi Penerbangan",register:p,errors:N,mandatory:!0,placeholder:"Masukkan Informasi Penerbangan",rules:{label:"Informasi Penerbangan",required:!0},rows:5,validation:t}),(0,r.jsx)(g,{disabled:i,id:"roomStay",className:"mb-6",label:"Ruang Inap",register:p,errors:N,mandatory:!0,placeholder:"Masukkan Ruang Inap",rules:{label:"Ruang Inap",required:!0},rows:5,validation:t}),i?null:(0,r.jsx)("button",{className:"bg-[#55185D] p-2 w-28 rounded-md text-white float-right disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!j||o,type:"submit",children:"Submit"})]})}v.defaultProps={className:"",id:"",label:"",errors:{},mandatory:!1,options:[],validation:()=>{}}},1935:(a,e,s)=>{s.r(e),s.d(e,{default:()=>o});s(2791);var l=s(7689),t=s(9145),i=s(6623),r=s(9567),n=s(7967),d=s(184);function o(){const a=(0,l.s0)(),{id:e}=(0,l.UO)(),{data:s,isLoading:o}=(0,n.rN)(e,{},{enabled:!0}),{data:u,isLoading:c}=(0,n.Zq)({},{enabled:!0}),{data:m,isLoading:v}=(0,n.Cm)({},{enabled:!0}),{mutate:g,isLoading:b}=(0,n.Bn)();return o?"Loading...":(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"ml-4 flex cursor-pointer",onClick:()=>a("/"),children:[(0,d.jsx)("img",{alt:"arrow_back",src:r.Z.arrow_back}),(0,d.jsx)("h1",{className:"ml-2 text-2xl font-medium",children:"Kembali"})]}),(0,d.jsxs)("div",{className:"bg-white p-6 m-6 overflow-auto rounded-md shadow-md",children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Edit Peserta"}),(0,d.jsx)(t.Z,{defaultValues:{fullname:null===s||void 0===s?void 0:s.fullname,username:null===s||void 0===s?void 0:s.username,birthday:null===s||void 0===s?void 0:s.birthday,status:s&&u?u.filter((a=>a.label===s.status)):[],region:s&&m?m.filter((a=>a.label===s.region)):[],roomMeet:null===s||void 0===s?void 0:s.roomMeet,flight:null===s||void 0===s?void 0:s.flight,roomStay:null===s||void 0===s?void 0:s.roomStay},isEdit:!0,isLoading:b,onSubmit:e=>{var s,l;const t={...e,region:null===e||void 0===e||null===(s=e.region)||void 0===s?void 0:s.value,status:null===e||void 0===e||null===(l=e.status)||void 0===l?void 0:l.value,password:null===e||void 0===e?void 0:e.username};g(t,{onSuccess:()=>{(0,i.Z)({allowOutsideClick:!1,title:"Berhasil!",text:"Data telah diubah.",icon:"success",onConfirm:()=>a("/")})},onError:()=>{(0,i.Z)({allowOutsideClick:!1,title:"Gagal!",text:"Data gagal diubah.",icon:"error",onConfirm:()=>a("/")})}})},statusLoading:c,statusOptions:u,wilayahLoading:v,wilayahOptions:m})]})]})}}}]);
//# sourceMappingURL=935.0e5abbdb.chunk.js.map