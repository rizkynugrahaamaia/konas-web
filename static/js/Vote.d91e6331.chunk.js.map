{"version":3,"file":"static/js/Vote.d91e6331.chunk.js","mappings":"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","sources":["configs/illustration.js","api/scan.js","webpack://konas-front-end/./src/pages/scan/styles.module.css?7fb9","pages/scan/scan-qr-code.js","pages/scan/scan.js","pages/vote/vote.js"],"sourcesContent":["const illustration = {\r\n  scan: '/images/illustration/scan.png',\r\n  success_scan: '/images/illustration/success_scan.png',\r\n};\r\n\r\nexport default illustration;","import { useMutation } from '@tanstack/react-query';\r\nimport ENDPOINT from '../constants/endpoint';\r\nimport {  uninterceptedAxiosInstance } from '../configs/axios-config';\r\n\r\nexport const scanKehadiran = async (id) => {\r\n    return await uninterceptedAxiosInstance.post(ENDPOINT.updateKehadiran(id));\r\n  };\r\n  \r\nexport const useScanKehadiran = () => {\r\n    const result = useMutation({\r\n      mutationFn: (id) => scanKehadiran(id),\r\n    });\r\n    return {\r\n      ...result,\r\n      ...result.data,\r\n      data: result?.data?.data,\r\n    };\r\n  };\r\n  ","// extracted by mini-css-extract-plugin\nexport default {\"qr_root\":\"styles_qr_root__pPylu\",\"qr_wrap\":\"styles_qr_wrap__WjRmv\"};","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport QrReader from 'react-qr-scanner'\r\n\r\nimport { useScanKehadiran } from '../../api/scan';\r\n\r\nimport styles from './styles.module.css'\r\n\r\nexport default function Component({ \r\n  qrVisible = {},\r\n  setView = () => {},\r\n  setVisible = () => {},\r\n}) {\r\n     \r\n  const navigate = useNavigate();\r\n  const { mutate: scanPeserta } = useScanKehadiran();\r\n\r\n  const handleScanProfile = (e) => {\r\n      if(e){ navigate(e.text)}\r\n  }\r\n\r\n  const handleScanKehadiran = (e) => {\r\n    if(e){\r\n      const path = e.text\r\n      const parts = path.split('/');\r\n      const id = parts.pop();\r\n      scanPeserta(id,\r\n        {\r\n          onSuccess: () => {\r\n            setView({\r\n              status: 2\r\n            });\r\n            setVisible(null);\r\n          },\r\n          onError: (err) => {\r\n            setView({\r\n              status: 3,\r\n              message: err.message\r\n            });\r\n            setVisible(null);\r\n          }\r\n        },\r\n      );\r\n    }\r\n  };\r\n\r\n  if(!qrVisible?.open) return null;\r\n  return ReactDOM.createPortal(\r\n    <>\r\n      <div className={styles['qr_root']}>\r\n        <div className={styles['qr_wrap']}>       \r\n            <QrReader\r\n                delay={100}\r\n                style={{\r\n                    height: 240,\r\n                    width: 320,\r\n                }}\r\n                onError={() => {}}\r\n                onScan={(e)=> { qrVisible?.type === 'profile' ? handleScanProfile(e) : handleScanKehadiran(e) }}\r\n            />\r\n            <button \r\n             className='mt-8 border-white text-white bg-slate-800 border-2 p-2 rounded-md w-full'\r\n             onClick={() => setVisible(null)}\r\n            >\r\n              Tutup\r\n            </button>\r\n          </div>\r\n        </div>\r\n    </>,\r\n    document.body\r\n  );\r\n}\r\n\r\nComponent.propTypes = {\r\n  qrVisible: PropTypes.object,\r\n  setView: PropTypes.func,\r\n  setVisible: PropTypes.func\r\n};\r\n","import React, { useState } from 'react';\r\n\r\nimport illustrations from '../../configs/illustration';\r\nimport QrScan from './scan-qr-code';\r\n\r\nexport default function Scan(){\r\n\r\n    const [view, setView] = useState({ status: 1 });\r\n    const [qrVisible, setQrVisible] = useState(null);\r\n\r\n    const ViewA = () => <>\r\n                <img alt=\"scan\" src={illustrations.scan}/>\r\n                <p className=\"text-sm md:text-xl mt-3 md:mt-16\">Silakan Melakukan Scan</p>\r\n                <p className=\"text-sm md:text-xl mt-1 md:mt-4 text-center\">Anda dapat melakukan scan Kehadiran atau profile peserta</p>\r\n                <div className=\"mt-3 md:mt-16 flex flex-col md:flex-row gap-2 md:gap-8 w-full justify-center\">\r\n                    <button\r\n                      className=\"bg-[#290849] w-full md:w-60 p-2 md:p-3 rounded-md text-white text-sm md:text-xl font-semibold\"\r\n                      onClick={() => setQrVisible({ \r\n                        open: true,\r\n                        type: 'presence'\r\n                       })}\r\n                    >\r\n                        Scan Kehadiran\r\n                    </button>\r\n                    <button\r\n                      className=\"bg-[#290849] w-full md:w-60 p-2 md:p-3 rounded-md text-white text-sm md:text-xl font-semibold\"\r\n                      onClick={() => setQrVisible({ \r\n                        open: true,\r\n                        type: 'profile'\r\n                       })}\r\n                    >\r\n                        Scan Profile\r\n                    </button>\r\n                </div>\r\n     </>;\r\n    \r\n    const ViewB = () => <>\r\n                <img alt=\"scan\" src={illustrations.success_scan}/>\r\n                <p className=\"text-sm md:text-xl mt-3 md:mt-16\">Berhasil Absen!</p>\r\n                <p className=\"text-sm md:text-xl mt-1 md:mt-4 text-center\">Peserta Telah Berhasil di Absen</p>\r\n                <div className=\"mt-3 md:mt-16 flex flex-col md:flex-row gap-2 md:gap-8 w-full justify-center\">\r\n                    <button\r\n                      className=\"bg-[#290849] w-full md:w-60 p-2 md:p-3 rounded-md text-white text-sm md:text-xl font-semibold\"\r\n                      onClick={() => {\r\n                        setView({\r\n                            status: 1\r\n                        });\r\n                      }}\r\n                    >\r\n                        Kembali\r\n                    </button>\r\n                </div>\r\n    </>;\r\n\r\n    const ViewC = () => <>\r\n                <p className=\"text-sm md:text-xl mt-3 md:mt-16\">Gagal Scan!</p>\r\n                <p className=\"text-sm md:text-xl mt-1 md:mt-4 text-center\">{view?.message || 'Terjadi Kesalahan'}</p>\r\n                <div className=\"mt-3 md:mt-16 flex flex-col md:flex-row gap-2 md:gap-8 w-full justify-center\">\r\n                    <button\r\n                    className=\"bg-[#290849] w-full md:w-60 p-2 md:p-3 rounded-md text-white text-sm md:text-xl font-semibold\"\r\n                    onClick={() => {\r\n                        setView({\r\n                            status: 1\r\n                        });\r\n                    }}\r\n                    >\r\n                        Kembali\r\n                    </button>\r\n                </div>\r\n    </>;\r\n\r\n\r\n    return(\r\n        <>\r\n            <p className=\"ml-2 md:ml-6 mb-2 md:mb-0 text-2xl font-semibold\">Scan</p>\r\n            <div\r\n             className='bg-[#F6F6F6] px-6 py-4  md:py-24 md:m-6 md:rounded-md shadow-lg flex flex-col justify-center items-center max-h-screen'\r\n            >\r\n                 {view.status === 1 && <ViewA />}\r\n                 {view.status === 2 && <ViewB />}\r\n                 {view.status === 3 && <ViewC />}\r\n\r\n                 <QrScan\r\n                    qrVisible={qrVisible}\r\n                    setView={setView}\r\n                    setVisible={setQrVisible}\r\n                /> \r\n\r\n            </div>\r\n        </>\r\n        )\r\n\r\n}","import React from 'react'\r\n\r\nexport default function Vote(){\r\n\r\n    return(\r\n        <div className=\"border-2 w-full overflow-x-auto whitespace-nowrap flex\" style={{ gap: '50px' }}>\r\n            <div className=\"bg-white shadow-lg p-2 rounded-md w-full inline-block\" style={{ minWidth: '300px' }}>\r\n                Menu Voting 1 \r\n            </div>\r\n            <div className=\"bg-white shadow-lg p-2 rounded-md w-full inline-block\" style={{ minWidth: '300px' }}>\r\n                Menu Voting 2 \r\n            </div>\r\n            <div className=\"bg-white shadow-lg p-2 rounded-md w-full inline-block\" style={{ minWidth: '300px' }}>\r\n                Menu Voting 3 \r\n            </div>\r\n        </div>\r\n        // <div className=\"border-2 w-full overflow-x-auto whitespace-nowrap flex\">\r\n        //     <div className=\"bg-blue-500 inline-block border-2 border-sky-300\" style={{ height: '150px', margin: '10px', minWidth: '300px' }}>\r\n        //         Menu Voting 1 \r\n        //     </div>\r\n        //     <div className=\"bg-blue-500 inline-block border-2 border-sky-300\" style={{ height: '150px', margin: '10px', minWidth: '300px' }}>\r\n        //         Menu Voting 2 \r\n        //     </div>\r\n        //     <div className=\"bg-blue-500 inline-block border-2 border-sky-300\" style={{ height: '150px', margin: '10px', minWidth: '300px' }}>\r\n        //         Menu Voting 3 \r\n        //     </div>\r\n        //     <div className=\"bg-blue-500 inline-block border-2 border-sky-300\" style={{ height: '150px', margin: '10px', minWidth: '300px' }}>\r\n        //         Menu Voting 4 \r\n        //     </div>\r\n        //     <div className=\"bg-blue-500 inline-block border-2 border-sky-300\" style={{ height: '150px', margin: '10px', minWidth: '300px' }}>\r\n        //         Menu Voting 5 \r\n        //     </div>\r\n        // </div>\r\n        )\r\n\r\n}"],"names":["scan","success_scan","useScanKehadiran","_result$data","result","useMutation","mutationFn","id","async","uninterceptedAxiosInstance","post","ENDPOINT","updateKehadiran","scanKehadiran","data","Component","_ref","qrVisible","setView","setVisible","navigate","useNavigate","mutate","scanPeserta","open","ReactDOM","_jsx","_Fragment","children","className","styles","_jsxs","QrReader","delay","style","height","width","onError","onScan","e","type","text","handleScanProfile","split","pop","onSuccess","status","err","message","handleScanKehadiran","onClick","document","body","Scan","view","useState","setQrVisible","ViewA","alt","src","illustrations","ViewB","ViewC","QrScan","Vote","gap","minWidth"],"sourceRoot":""}